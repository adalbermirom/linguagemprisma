//teste da lib shell

local shell = inclua'ini'
//local shell = inclua'shell' //caso já esteja instalada a lib, use esta linha e apague a de cima.

imprima(shell.info);
imprima(shell.VERSAO);

funcao principal()
    local ret;
    ret = shell.uname('-a');
    imprima(tabela.concat(ret,'\n'));
    
    poe'Apagando zz.zip e zz.tar se houver';
    shell.rm('zz.zip', 'zz.tar');
    leia();
    
    poe'\n\n------------------------------'
      // Diretório atual:
    ret = shell.pwd();
    imprima(ret[1]);
    //usando o retorno do diretório atual para listar e arquivar em um zip:
    ret = shell.ls(ret[1]):zip('zz.zip');//o retorno é uma tabela indexada ([1],[2]...);
    imprima(tabela.concat(ret,'\n'));
    leia();
    ret = shell.cat(args[0]);
    poe'\n\n------------------------------';
    imprima( tabela.concat(ret,'\n'));
    
    poe'\n\n------------------------------'
    ret = shell.grep('reto'.. 'rne', args[0]);
    imprima(tabela.concat(ret,'\n'));
    
    
    
    poe'\n\n------------------------------'
      // Espaço em disco em MB:
    ret = shell.df('-m');
    imprima(tabela.concat(ret,'\n'));
    
    poe'\n\n------------------------------'
      // comando TAR:   tar -cvf arquivo.tar   pasta_ou_arquivo_alvo
    ret = shell.tar('-cvf', 'zz.tar', '.');
    imprima(tabela.concat(ret,'\n'));
    
    poe'\n\n------------------------------'
      // comando ps
    ret = shell.ps('-e');
    imprima(tabela.concat(ret,'\n') );
    
    //qualquer comando linux terminal que você souber poderá ser usado assim:  shell.seucomando(args...);
    
    
    retorne 0;
fim



